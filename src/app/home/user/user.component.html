<div class="p-2">
  <!-- <select name="" id="">
    <option *ngFor="let faculty of FacultiesList" value="{{ faculty.id }}">
      {{ faculty.facultyName }}
    </option>
  </select>
  <select name="" id="">
    <option *ngFor="let class of ClassList" value="{{ class.id }}">
      {{ class.nameClass }}
    </option>
  </select> -->
  <div *ngIf="isList" class="row gx-3 m-2">
    <select
      class="form-select border-1 hover w-25"
      name="faculty"
      id="facultySelect"
      (change)="onFacultySelected($event)"
    >
      <option value="0">Chọn khoa</option>
      <option *ngFor="let faculty of FacultiesList" value="{{ faculty.id }}">
        {{ faculty.facultyName }}
      </option>
    </select>
    <select
      class="form-select border-1 hover w-25"
      name="class"
      id="classSelect"
      (change)="onClassChange($event)"
    >
      <option value="0">Chọn lớp</option>
      <!-- <option
        *ngFor="let class of filteredClassList"
        value="{{ class.id }}"
        (click)="getSinhVien(class.id)"
      > -->
      <option *ngFor="let class of filteredClassList" value="{{ class.id }}">
        {{ class.nameClass }}
      </option>
    </select>
  </div>

  <button class="btn btn-primary m-2" (click)="openAddUserModal()">
    Thêm người dùng
  </button>
  <button class="btn btn-primary m-2" (click)="deleteUsers()">
    Xóa người dùng
  </button>
</div>

<div class="modal" tabindex="-1" [ngClass]="{ show: isAddUserModalOpen }">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Thêm sinh viên</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeAddUserModal()"
        ></button>
      </div>
      <div class="modal-body">
        <app-add-user></app-add-user>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="closeAddUserModal()"
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<!-- <div
  class="modal-dialog modal-dialog-centered"
  tabindex="-1"
  [ngClass]="{ show: isAddUserModalOpen }"
>
  <app-add-user *ngIf="showAddUserForm"></app-add-user>
</div> -->

<div *ngIf="isList" class="table-responsive">
  <table
    class="table table-striped table-hover table-borderless table-primary align-middle"
  >
    <thead class="table-light">
      <caption style="white-space: nowrap">
        Sinh viên
      </caption>
      <tr>
        <th></th>
        <th>ID</th>
        <th>Email</th>
        <th>Tên</th>
        <th>Giới tính</th>
        <th>Địa chỉ</th>
        <th>Điện thoại</th>
        <th>Trạng thái</th>
        <th>Vai trò</th>
        <th>Lớp</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <tr class="table-primary" *ngFor="let user of UserListSV">
        <td>
          <label class="btn">
            <input
              type="checkbox"
              class="me-2"
              name=""
              id=""
              autocomplete="off"
              [checked]="isSelected(user)"
              (change)="toggleSelection(user)"
            />
          </label>
        </td>
        <td>
          <div class="btn-toolbar" role="toolbar" aria-label="Toolbar">
            <div class="btn-group" role="group" aria-label="Button Group">
              <button type="button" class="btn btn-primary">Sửa</button>
            </div>
          </div>
        </td>
        <td>{{ user.id }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.gender }}</td>
        <td>{{ user.address }}</td>
        <td>{{ user.phone }}</td>
        <td>{{ user.status }}</td>
        <td>{{ user.role?.name || "-" }}</td>
      </tr>
    </tbody>
    <tfoot></tfoot>
  </table>
</div>
<div *ngIf="!isList" class="table-responsive">
  <table
    class="table table-striped table-hover table-borderless table-primary align-middle"
  >
    <thead class="table-light">
      <caption style="white-space: nowrap">
        Giảng viên
      </caption>
      <tr>
        <th></th>
        <th>ID</th>
        <th>Email</th>
        <th>Tên</th>
        <th>Giới tính</th>
        <th>Địa chỉ</th>
        <th>Điện thoại</th>
        <th>Trạng thái</th>
        <th>Vai trò</th>
        <th>Lớp</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <tr class="table-primary" *ngFor="let user of UserListSV">
        <td>
          <label class="btn">
            <input
              type="checkbox"
              class="me-2"
              name=""
              id=""
              autocomplete="off"
              [checked]="isSelected(user)"
              (change)="toggleSelection(user)"
            />
          </label>
        </td>
        <td>
          <div class="btn-toolbar" role="toolbar" aria-label="Toolbar">
            <div class="btn-group" role="group" aria-label="Button Group">
              <button type="button" class="btn btn-primary">Sửa</button>
            </div>
          </div>
        </td>
        <td>{{ user.id }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.gender }}</td>
        <td>{{ user.address }}</td>
        <td>{{ user.phone }}</td>
        <td>{{ user.status }}</td>
        <td>{{ user.role?.name || "-" }}</td>
      </tr>
    </tbody>
    <tfoot></tfoot>
  </table>
</div>
<!-- <table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Email</th>
      <th>Name</th>
      <th>Gender</th>
      <th>Address</th>
      <th>Phone</th>
      <th>Status</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of UserList">
      <td>{{ user.id }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.name }}</td>
      <td>{{ user.gender }}</td>
      <td>{{ user.address }}</td>
      <td>{{ user.phone }}</td>
      <td>{{ user.status }}</td>
      <td>{{ user.role?.name || "-" }}</td>
    </tr>
  </tbody>
</table> -->
